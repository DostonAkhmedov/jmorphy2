# minimum-vagga: v0.6.0

containers:
  java:
    environ:
      GRADLE_USER_HOME: /work/.gradle
      LANG: en_US.UTF-8
    setup:
    - !UbuntuRelease {version: 15.10}
    - !UbuntuUniverse
    - !Install
      - openjdk-8-jdk
      - ca-certificates
      - ca-certificates-java
    - !EnsureDir /opt/gradle
    - !Unzip
      url: https://services.gradle.org/distributions/gradle-2.12-bin.zip
      sha256: e77064981906cd0476ff1e0de3e6fef747bd18e140960f1915cca8ff6c33ab5c
      subdir: gradle-2.12
      path: /opt/gradle
    - !Sh |
        chmod +x /opt/gradle/bin/gradle
        ln -s /opt/gradle/bin/gradle /usr/local/bin/gradle

commands:
  gradle: !Command
    description: Run gradle
    container: java
    run: [gradle]

  build: !Command
    description: Build all
    container: java
    run: [gradle, build]
